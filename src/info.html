<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Os Guardiões - Informações Críticas</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/occurrences.css">
</head>
<body>
    <!-- Menu -->
    <nav class="navbar">
        <!-- Botão de voltar -->
        <button class="back-btn" onclick="history.back()">
            <i class="fa-solid fa-arrow-left"></i>
        </button>

        <div class="logo">
            <i class="fa-solid fa-shield-halved"></i>
            <span>Os Guardiões - alteração sem commit</span>
        </div>

        <!-- botão/ícone do menu -->
        <div class="dropdown-user" id="menuBtn">
            <i class="fa-solid fa-bars"></i>
        </div>

        <div class="dropdown-content" id="dropdownMenu">
            <a href="profile.html">Meu Perfil</a>
            <a href="politics.html">Política de Privacidade</a>
        </div>
    </nav>

    <main class="container mt-5 pt-5">
    <button class="btn btn-primary my-3" data-bs-toggle="modal" data-bs-target="#modalNovaInfo">Registrar Suspeita</button>

    <!-- Cards -->
    <section class="cards mt-3">
        <div id="card-grid" class="card-grid"></div>
    </section>
    </main>

    <!-- Modal de inclusão -->
    <div class="modal fade" id="modalNovaInfo" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header" style="background-color: #370A54; color: #FFF;">
            <h5 class="modal-title">Nova Suspeita</h5>
        </div>
        <div class="modal-body">
            <form id="formNovaInfo">
            <div class="mb-2">
                <label class="form-label">Tipo</label>
                <select id="selectTipo" class="form-control" required>
                <option value="" disabled selected>Selecione o tipo</option>
                <option value="Pessoa">Pessoa</option>
                <option value="Veículo">Veículo</option>
                <option value="Objeto">Objeto</option>
                <option value="Outro">Outro</option>
                </select>
            </div>
            <div class="mb-2">
                <label class="form-label">Descrição</label>
                <textarea id="textareaDescricao" class="form-control" rows="3" required></textarea>
            </div>
            <div class="mb-2">
                <label class="form-label">Bairro</label>
                <input id="inputBairro" type="text" class="form-control" required/>
            </div>
            <div class="mb-2">
                <label class="form-label">Data e Hora</label>
                <input id="inputDate" type="date" class="form-control mb-2" required/>
                <input id="inputTime" type="time" class="form-control" required/>
            </div>

            <!-- Upload de imagem -->
            <div class="mb-3 upload-box">
                <label for="imgUploadInfo" class="form-label">
                <i class="fa-solid fa-camera"></i>
                <span>*Anexe uma foto (opcional)</span>
                </label>
                <input type="file" id="imgUploadInfo" accept="image/*" hidden>
                <div id="previewInfo" class="preview-area">Clique ou arraste a imagem aqui</div>
            </div>
            </form>
        </div>
        <div class="modal-footer">
            <button id="btnSalvarInfo" class="btn btn-primary">Salvar</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        </div>
        </div>
    </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="assets/js/info.js"></script>

    <!--Scripts-->
    <script>
        const menuBtn = document.getElementById('menuBtn');
        const dropdownMenu = document.getElementById('dropdownMenu');

        menuBtn.addEventListener('click', () => {
            dropdownMenu.classList.toggle('show');
        });

        // se clicar fora do menu, fecha
        window.addEventListener('click', (event) => {
            if (!menuBtn.contains(event.target) && !dropdownMenu.contains(event.target)) {
            dropdownMenu.classList.remove('show');
            }
        });
        </script>

    <script>
        const backBtn = document.querySelector('.back-btn');
        
        if (window.location.pathname.endsWith('index.html')) {
            backBtn.style.display = 'none';
        }
    </script>
</body>
</html>
